{% extends "dictionary/base.html" %}
{% block title %} {{ headword }} timeline â‹… {% endblock %}
{% block content %}
<div id="wrapper">
    <div id="content-container">
        <div id="content" class="group">
            <div class="entry-content">
                {% csrf_token %}
                <link title="timeline-styles" rel="stylesheet" href="//cdn.knightlab.com/libs/timeline3/latest/css/timeline.css">
                <script src="//cdn.knightlab.com/libs/timeline3/latest/js/timeline.js"></script>
                <div id='timeline-embed' style="width: 100%; height: 600px"></div>
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">
$(document).ready(function() {
    var sense_id = "{{ sense_id }}";
    var endpoint = '/senses/' + sense_id + '/timeline/';
    $.getJSON(
            endpoint,
            {'csrfmiddlewaretoken': '{{csrf_token}}'},
            function (data) {
                var parsed = $.parseJSON(data);
                console.log(parsed);
                window.timeline = new TL.Timeline('timeline-embed', parsed);
            }
    );
});
</script>
{% endblock %}