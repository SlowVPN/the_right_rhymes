function addRemainingArtists(t,a,e,s){$.getJSON(s,{csrfmiddlewaretoken:"{{csrf_token"},function(s){var n=s.artists_with_image;$.each(n,function(a,e){var s=$("<li></li>").append($("<a></a>",{href:"/artists/"+e.slug}).append($("<figure></figure>",{"class":"single-thumb"}).append($("<img></img>",{src:e.image,height:200,width:200}),$("<figcaption></figcaption>",{text:e.name}))));s.appendTo(t)}),a.hide(),e.show()})}function addRemainingArtistSenseExamples(t,a,e,s){$.getJSON(s,{csrfmiddlewaretoken:"{{csrf_token}}"},function(s){var n=s.senses,i=$("#artist_slug").text();$.each(n,function(a,e){var s=$("<li></li>",{"class":"trr-list-group-item"}).append($("<div></div>").append($("<strong></strong>").append($("<a></a>",{href:"/"+e.slug+"#"+e.xml_id,text:e.headword}))));$.each(e.examples,function(t,a){if(s.append("<div></div>").append($("<span></span>",{"class":"date",text:a.release_date_string}),$("<span></span>",{"class":"artist"}).append($("<a></a>",{href:"/artists/"+a.artist_slug,text:a.artist_name})),$("<span></span>",{"class":"songTitle"}).append($("<a></a>",{href:"/songs/"+a.song_slug,text:'"'+a.song_title+'"'}))),a.featured_artists.length>0){s.append('<span class="comma"> feat. </span>');var e=[],n=a.featured_artists.pop();$.each(a.featured_artists,function(t,a){e.push($("<span></span>",{"class":"artist"}).append($("<a></a>",{href:"/artists/"+a.slug,text:a.name}),$("<span></span>",{"class":"comma",text:","})))}),e.push($("<span></span>",{"class":"artist"}).append($("<a></a>",{href:"/artists/"+n.slug,text:n.name}))),s.append(e)}s.append($("<span></span>",{"class":"album",text:"["+a.album+"]"}),$('<div class="lyric">'+a.linked_lyric+"</div>").append($("<a></a>",{"class":"tweet",href:"http://www.therightrhymes.com/artists/"+i,title:a.lyric,target:"_blank"}).append($("<i></i>",{"class":"fa fa-share-alt","aria-hidden":!0}))))}),s.appendTo(t)}),a.hide(),e.show(),add_tweet()})}function addRemainingExamples(t,a,e,s){$.getJSON(s,{csrfmiddlewaretoken:"{{csrf_token}}"},function(s){var n=s.examples,i=$("#entry_slug").text();$.each(n,function(a,e){var s=$("<li></li>").append($("<span></span>",{"class":"date",text:e.release_date_string}),$("<span></span>",{"class":"artist"}).append($("<a></a>",{href:"/artists/"+e.artist_slug,text:e.artist_name})),$("<span></span>",{"class":"songTitle"}).append($("<a></a>",{href:"/songs/"+e.song_slug,text:'"'+e.song_title+'"'})));if(e.featured_artists.length>0){s.append('<span class="comma"> feat. </span>');var n=[],r=e.featured_artists.pop();$.each(e.featured_artists,function(t,a){n.push($("<span></span>",{"class":"artist"}).append($("<a></a>",{href:"/artists/"+a.slug,text:a.name}),$("<span></span>",{"class":"comma",text:","})))}),n.push($("<span></span>",{"class":"artist"}).append($("<a></a>",{href:"/artists/"+r.slug,text:r.name}))),s.append(n)}s.append($("<span></span>",{"class":"album",text:"["+e.album+"]"}),$('<div class="lyric">'+e.linked_lyric+"</div>").append($("<a></a>",{"class":"tweet",href:"http://www.therightrhymes.com/"+i,title:e.lyric,target:"_blank"}).append($("<i></i>",{"class":"fa fa-share-alt","aria-hidden":!0})))),s.appendTo(t)}),a.hide(),e.show(),add_tweet()})}function add_tweet(){$("a.tweet").click(function(t){t.preventDefault();var a=$(this).attr("href"),e=encodeURIComponent($(this).attr("title"));window.open("http://twitter.com/share?url="+a+"&text="+e+"&via=theRightRhymes&","twitterwindow","height=450, width=550, top="+($(window).height()/2-225)+", left="+$(window).width()/2+", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0")})}$(document).ready(function(){$(".toggle_more_exx").click(function(){$(this).parent().next(".examples").slideToggle("fast");var t=$(this).parent().find(".loading"),a=$(this);if("Hide more examples"==$(this).text())$(this).text("Show more examples"),$(this).css("background-color","#9b9b9b");else{$(this).text("Hide more examples"),$(this).css("background-color","lightgray");var e=$(this).parent().find(".sense_id").text(),s=$(this).parent().find(".artist_slug").text(),n=$(this).parent().find(".place_slug").text(),i=$(this).parent().find(".place_example_slug").text(),r=$(this).parent().find(".feat").text(),p=$(this).parent().next(".examples");if(0==p.children().length)if(a.hide(),t.show(),""!=s){var l="/data/artists/"+s+"/sense_examples";"True"==r&&(l+="?feat=True"),addRemainingArtistSenseExamples(p,t,a,l)}else if(""!=n){var l="/data/places/"+n+"/artists/";addRemainingArtists(p,t,a,l)}else if(""!=i){var l="/data/places/"+i+"/remaining_examples/";addRemainingExamples(p,t,a,l)}else{var l="/data/senses/"+e+"/remaining_examples/";addRemainingExamples(p,t,a,l)}}return!1})}),$(".toggle").click(function(){var t=$(this).find(".the-list"),a=t.clone(!0),e=$(this).nextAll(".placeholder:first");e.addClass("placeholder-background"),e.html(a),e.find(".the-list").toggle(100)}),$(".toggle-artist-examples").click(function(){var t=$(this).parent().find(".loading"),a=$(this).parent().nextAll(".artist-examples:first"),e=$(this).parent().find(".sense_id").text(),s=$(this).parent().find(".artist_slug").text(),n=$(this).parent().nextAll(".artist-examples:first");n.fadeOut(100,function(){n.empty();var i="/senses/"+e+"/"+s+"/json";addRemainingExamples(n,t,a,i)})});